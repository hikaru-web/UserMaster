<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="css/bootstrap.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">
<title th:text="${title}">Insert title here</title>
</head>
<body>
<h1 th:text="${title}">title</h1>
<p><a href="#" th:href="@{/UserTouroku}" class="btn btn-primary">ユーザーを登録する</a></p>
</body>

    <div th:replace="~{block/header_boot::headerA_boot}"></div>
    <main role="main" class="container">

      <div class="starter-template">
        <h1 th:text="${title}">Bootstrap starter template</h1>
        <p class="lead">これはユーザー管理画面です。ユーザーの登録、閲覧、編集、削除をすることができます。<br>ただし登録、編集、削除は管理者のみ可能です。</p>
      </div>
<table class="table">
	 <thead class="thead-dark">
		<tr><td>ID</td><td>名前</td>	<td>年齢</td><td>誕生日</td><td></td><td></td></tr>
	</thead>
	<tr th:each="obj : ${page.content}">
		<td th:text=${obj.UserId}></td>
		<td th:text=${obj.UserName}></td>
		<td th:text=${obj.UserAge}></td>
		<td th:text=${obj.UserBirthDay}></td>
														<!--リンク先の{id}は後から値を書き換えられる  -->
														<!-- 置き換える値は(id=置き換える値)で指定 -->
		<td><a type="button" th:href="@{/details/{UserId}(UserId=${obj.UserId})}">明細</a></td>
		<td>
			<form method="POST" th:action="@{/delete}">
			<input type="hidden" name="UserId" th:value="${obj.UserId}">
			<input type="submit" class="btn btn-danger" id="delete" value="削除">
			</form>
		</td>
	</tr>
</table>

    <nav aria-label="Page navigation">
    <div class="pagination justify-content-center">
        <ul class="pagination">
            <li th:attr="style=${ph.hiddenPrev} ? 'visibility:hidden'"><a class="js-pagenation" th:href="@{${url}(page=${page.number - 1},size=${page.size})}">&#171;</a></li>
            <li th:class="${ph.activePage1} ? 'active'">
                <a class="js-pagenation" th:href="@{${url}(page=${ph.page1PageValue},size=${page.size})}" th:text="${ph.page1PageValue + 1}">1</a>
            </li>
            <li th:class="${ph.activePage2} ? 'active'" th:attr="style=${ph.hiddenPage2} ? 'visibility:hidden'">
                <a class="js-pagenation" th:href="@{${url}(page=${ph.page1PageValue + 1},size=${page.size})}" th:text="${ph.page1PageValue + 2}">2</a>
            </li>
            <li th:class="${ph.activePage3} ? 'active'" th:attr="style=${ph.hiddenPage3} ? 'visibility:hidden'">
                <a class="js-pagenation" th:href="@{${url}(page=${ph.page1PageValue + 2},size=${page.size})}" th:text="${ph.page1PageValue + 3}">3</a>
            </li>
            <li th:class="${ph.activePage4} ? 'active'" th:attr="style=${ph.hiddenPage4} ? 'visibility:hidden'">
                <a class="js-pagenation" th:href="@{${url}(page=${ph.page1PageValue + 3},size=${page.size})}" th:text="${ph.page1PageValue + 4}">4</a>
            </li>
            <li th:class="${ph.activePage5} ? 'active'" th:attr="style=${ph.hiddenPage5} ? 'visibility:hidden'">
                <a class="js-pagenation" th:href="@{${url}(page=${ph.page1PageValue + 4},size=${page.size})}" th:text="${ph.page1PageValue + 5}">4</a>
            </li>
        </ul>

        <ul class="pagination">
            <li th:attr="style=${ph.hiddenNext} ? 'visibility:hidden'"><a class="js-pagenation" th:href="@{${url}(page=${page.number + 1},size=${page.size})}">&#187;</a></li>
        </ul>
        </div>
    </nav>

    </main><!-- /.container -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="js/jquery-3.5.0.slim.min.js"></script>
<script src="js/bootstrap.bundle.min.js" ></script>

    <script type="text/javascript">
    <!--
    $(document).ready(function() {
        $('#code').focus();

        $('.js-searchForm-clear').click(function(){
            $('#searchForm')
                .find('input')
                .val('');
            $('#code').focus();
        });

        $('.js-pagenation').each(function(){
            $(this).click(function(){
                $('#pagenationForm').attr('action', $(this).attr('href'));
                $(this).attr('href', '#');
                $('#pagenationForm').submit();
            });
        });
    });
    -->
    </script>

</html>